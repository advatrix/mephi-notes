**Опр.** Оптимизация -- достижение наилучшего качества при ограничении на ресурсы.

Качество задаётся в виде формулы $f = f(x_1, \ldots, x_n)$ и зависит от $x_1\ldots x_n$.

Рассмотрим достижение максимума/минимума функции $f$ в случаях:
- $-\infty < x_i < \infty$ (ресурсы не ограничены). Используются экстремумы функций многих переменных
- $\leq x_1\ldots x_n\leq$ (ограничения и критерий задаются нелинейными функциями) -- метод нелинейного программирования. (про это есть учебник Химмельблау)
- $\leq x_1\ldots x_n\leq$ (ограничения и критерий задаются линейными функциями) -- $n$-мерный многогранник, высекаемый $n$-мерными плоскостями. Используется метод линейного программирования

ограничения:
- данные даются с какой-то точностью -- потеря точности при округлении
- потеря точности в ЭВМ
- потеря точности в методе

Число -- безразмерная величина. Понятия числа и величины есть синонимы. Одно и то же число в разных СС выглядит по-разному

СС -- система (математический приём) изображения чисел с помощью ограниченного количества символов

Мы работаем с позиционными СС. Это СС, в которой вклад цифр в величину числа зависит от положения цифры в числе относительно запятой

**Опр**. Пусть $A$ - точное значение числа, $a$ - то приближение, с которым мы будем работать. Тогда величина $\Delta = |A-a| = |a-A|$ называется **абсолютной погрешностью $a$**

**Опр**. $\delta = \frac{\Delta}{|A|}$ называется **относительной погрешностью приближенного числа $a$

Абсолютные и относительные погрешности работают в паре. **Они округляются только в большую сторону**. 

Например, $\Delta = 0.099 = 0.1$ 

Возможны два случая для расчета погрешностей:
- $A$ и $a$ известны (редкий случай). Тогда ранее приведенные формулы для погрешностей являются рабочими. Отсюда находим $\delta$
- $A$ неизвестно (наиболее часто). $a$ известно. Одним из известных способов находят $\Delta$ или $\delta$ и далее полагают, что $$\delta\simeq\frac\Delta a,$$потому что $A\simeq a$. Работая по этой формуле получаем, что $$a-\Delta\leq A\leq a+\Delta$$

Основные источники погрешностей:
- погрешность исходных данных. При обработке они переходят в результат.
- методическая погрешность. Например, значения интегралов можно считать по формулам прямоугольников, трапеций и каких-то умных челов.


## Десятичная запись приближенного числа. Значащие цифры и верные значащие цифры.

Всякое число $A$ может быть представлено в виде бесконечной дроби (**развернутая запись числа)**$$a=\alpha_1\cdot 10^{m-1} +\alpha_2\cdot 10^{m-2}+\ldots +\alpha_{m-1}10^1+\alpha_m10^0+\ldots+\alpha_n 10^{m-n}$$
В этой записи
- $\alpha_i$ -- десятичные цифры числа, $\alpha_i=\overline{0, 9}$
- $n$ -- разрядность числа 
- $m$ -- количество цифр в целой части числа

Например,
$$3141.59=3\cdot10^3+1\cdot10^2_4\cdot10^1+1\cdot10^0+5\cdot10^{-1}+9\cdot10^{-9}$$
Если ввести ограничение на то, что старший разряд не равен нулю:

$$b = \beta_1\cdot 10^{m-1}+\beta_2\cdot10^{m-2}+\ldots+ \beta_n\cdot 10^{m-n}\quad (\beta_1\neq 0)$$

**Опр**. Все сохраняемые десятичные цифры $\beta_i$ ($i = \overline{1, n}$) называются **значащими цифрами**. В числе 0.007010 цифры 7010 -- значащие.

**Опр**. Значащей цифрой приближённого числа называется всякая цифра в его записи, отличная от нуля; ноль, если он содержится между значащими цифрами или представляет сохраняемый десятичный разряд.

Примеры
- 10.89 - 4 зн цифры
- 0.007010 - 4 зн цифры
- 0.00701 - 3

Специальная математическая запись, показвающая количество значащих цифр:
$$
689000 = 6.89 \cdot 10^5
$$
- $6.89\cdot 10^5$ - 3 зн цифры
- $6.89000\cdot 10^5$ - 6 зн цифр
- $7\cdot 10^5$ - 1 зн цифра

0.000 000 120 
- с тремя зн цифрами $1.20 \cdot 10^{-7}$
- $1.2\cdot 10^{-7}$ с 2 зн цифрами


**Опр.** Говорят, что $n$ первых значащих цифр приближенного числа $a$ являются **верными**, если абсолютная погрешность этого числа не превышает половины единицы младшего $n$-го разряда.

Т. о. если для приближенного числа $a$ с $n$ разрядами, которое заменяет точное число $A$, известно, что 
$$
\Delta=|A-a|\leq\frac12\cdot 10^{m-n},
$$
то первые $n$ цифр этого числа $\alpha_1,\ldots,\alpha_n$ являются верными.

Например, если для 42.253 $\Delta = 0.004$
- берем младший разряд. проверяем 3 $\frac {10^{-3}}2=0.0005 < \Delta$ => не является верной зн цифрой
- дальше 5 $\frac{10^{-2}}2=0.005>\Delta$ => верно
подчеркнуть цифры и написать: подчеркнутые цифры являются верными

## Округление чисел

Рассмотрим некоторое число $a_{10}$ в десятичной СС. Иногда требуется записать его с меньшим количеством цифр $a\to a_1$ и выбрать $a_1$ так, чтобы погрешность перехода была наименьшей 
$$
| a-a_1 | \to\min
$$
это достигается соответствующими правилами округления:
- при округлении до $n$ значащих цифр отбрасываются все цифры, стоящие справа от $n$-ой значащей цифры, и если нужно сохранение разрядностей, заменяют их нулями. Два случая
	- если первая из отбрасываемых цифр меньше 5, то оставшиеся десятичные знаки остаются без изменения
	- если она $\geq 5$, то к последней оставляемой цифре добавляют единицу
- погрешность округления при этом не превышает 1/2 единицы последнего оставляемого десятичного разряда

пример
$\pi = 3.1415926535$
если округлить до 3.1416, то $\Delta\leq\frac12 \cdot 10^4$
- 3.142 $\Delta\leq\frac12 \cdot 10^-3$
- 3.14 $\Delta\leq\frac12 \cdot 10^{-2}$

точность приближенного числа зависит не от количества значащих цифр, а от количества **верных** значащих цифр.

## Практическое правило округления при вычислениях

в промежуточных результатах количество значащих цифр должно превосходить количество верных на одну-две цифры. Окончательный результат может содержать  не более, чем одну излишнюю значащую цифру. Это правило позволяет без ущерба для точности избегать написания лишних цифр.

## Общая формула для нахождения погрешностей

**основная задача теории погрешностей**: известны погрешности величин $x1\ldots x_n$, требуется найти погрешность заданной $f(x_1, \ldots, x_n)$ от этих величин

пусть задана дифференцируемая $f = f(x_1\ldots x_n)$ и известны $\Delta x_i$ - абсолютные погрешности агрументов. Тогда абсолютная погрешность функции 

$$\Delta f = |f(x_1 +\Delta x_1, \ldots, x_n + \Delta x_n) - f(x_1, \ldots, x_n)|$$
В силу малости $\Delta x_i$ можно записать так

$$\tag{1}\Delta f = \left| \sum_{i=1}^n\frac{\partial f}{\partial x_i}\Delta x_i\right|$$

$$\tag{2}\Delta f = \sum_{i=1}^n \left|\frac{\partial f}{\partial x_i}\right|\Delta x_i$$

(2) -- **общая формула для расчета погрешностей**

**обратная задача теории погрешностей**: каковы должны быть абсолютные погрешности агрументов функции, чтобы абсолютная погрешность функции не превышала заданной величины?

простейшее решение обратной задачи -- с использованием принципа равных влияний. согласно этому принципу предполагается, что все частные дифференциалы $\left |\frac {\partial f}{\partial x_i}\right |\Delta x_i$ вносят одинаковый вклад в абсолютную погрешность $\Delta f$ 

пусть $\Delta f$ задана, тогда 

$$\Delta f = \sum_{i=1}^n \left|\frac{\partial f}{\partial x_i}\right|\Delta x_i$$
$$\left|\frac{\partial f}{\partial x_1}\right|\Delta x_1=\left|\frac{\partial f}{\partial x_2}\right|\Delta x_2=\ldots=\left|\frac{\partial f}{\partial x_n}\right|\Delta x_n=\frac{\Delta f} f$$
$$\Delta x_i = \frac{\Delta f}{n\cdot \left|\frac{\partial f}{\partial x_i}\right|}$$


